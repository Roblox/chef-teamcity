> <sup>**NOTE: This README is generated using the knife-cookbook-doc plugin.
> Please do not edit this file directly, instead use the `rake doc` task.**</sup>

# Description

Installs TeamCity server and agent

# Requirements

## Platform:

* mac_os_x
* ubuntu
* centos

## Cookbooks:

* [ark](https://github.com/chef-cookbooks/ark) (~> 3.0)
* [homebrew](https://github.com/chef-cookbooks/homebrew) (~> 5.0)
* [java](https://github.com/sous-chefs/java) (~> 4.0)
* [runit](https://github.com/chef-cookbooks/runit) (~> 4.0)
* [seven_zip](https://github.com/sous-chefs/seven_zip)
* [systemd](https://github.com/nathwill/chef-systemd)

# Recipes

* teamcity::default - Installs TeamCity Agent on target OS
* teamcity::server - Installs TeamCity Server on CentOS or Ubuntu


# Attributes
### `node['teamcity']`...

<table>
  <tbody>
    <tr>
      <td>
        <code>['server']['source_url']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>https://download.jetbrains.com/teamcity/TeamCity-2020.1.3.tar.gz</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['server']['checksum']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>8d21480da9392709efd6dd6cb7b513211a45e462909799b5b880e36def1522fc</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['server']['url']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>http://localhost:8111</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['server']['port']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>8111</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['server']['user']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>teamcity</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['server']['group']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>users</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['server']['install_dir']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>/opt</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['server']['pid_file']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>/usr/local/teamcity-server/logs/catalina.pid</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['server']['data_path']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>/var/teamcity-server/data</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['install_dir']</code>
      </td>
      <td>
        Install directory for agent<br><strong>Default:</strong> <code>platform_family?('windows') ? 'C:\\teamcity-agent\\' : '/opt/teamcity-agent</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['work_dir']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>platform_family?('windows') ? 'C:\\teamcity-agent' : '/var/teamcity-agent</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['name']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>node['hostname']</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['user']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>teamcity</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['uid']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>1023 if platform_family?('mac_os_x')</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['group']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>platform_family?('mac_os_x') ? 'staff' : 'users</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['home']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>case node['platform_family']</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['update_properties_file']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>false</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['properties']</code>
      </td>
      <td>
        Two dimensional has of additional properties that are added to conf/buildAgent.properties file<br><strong>Default:</strong> <code>{ ... }</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['stdout_path']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>/dev/null</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['launch_command']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>bin/agent.sh run</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['mac_os_x']['setup_assistant']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>{ ... }</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['agent']['windows_service']['startuptype']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>Automatic</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>['ignore_dsc_errors']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>true</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>node['java']['jdk_version']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>platform_family?('mac_os_x') ? '' : '8</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>node['java']['windows']['url']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>nil</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>node['java']['windows']['package_name']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>Java SE Development Kit 8 Update 152 (64-bit)</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>node['java']['windows']['checksum']</code>
      </td>
      <td>
        <strong>Default:</strong> <code>nil</code>
      </td>
    </tr>
  </tbody>
</table>


# Info

## License and Maintainer

Maintainer:: Roblox (<info@roblox.com>)

Source:: https://github.com/Roblox/chef-teamcity

Issues:: https://github.com/Roblox/chef-teamcity/issues

License:: Apache-2.0

## Credit

* Originally cookbook by Andrey Chernih (https://github.com/andreychernih/chef-teamcity)
* Rewritten by Antek Baranksi (https://github.com/Sauraus)
